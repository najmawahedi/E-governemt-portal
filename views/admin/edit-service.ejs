<h2>Edit Service: <%= service.name %></h2>

<div class="row justify-content-center">
  <div class="col-md-6">
    <% if (typeof error !== 'undefined') { %>
      <div class="alert alert-danger"><%= error %></div>
    <% } %>
    
    <form method="POST" action="/admin/services/<%= service.id %>/edit">
      <div class="mb-3">
        <label class="form-label">Service Name</label>
        <input type="text" class="form-control" name="name" value="<%= service.name %>" required>
      </div>
      
      <div class="mb-3">
        <label class="form-label">Department</label>
        <select class="form-select" name="department_id" required>
          <option value="">Select Department</option>
          <% departments.forEach(dept => { %>
            <option value="<%= dept.id %>" <%= service.department_id == dept.id ? 'selected' : '' %>>
              <%= dept.name %>
            </option>
          <% }) %>
        </select>
      </div>
      
      <div class="mb-3">
        <label class="form-label">Description</label>
        <textarea class="form-control" name="description" rows="3"><%= service.description || '' %></textarea>
      </div>
      
      <div class="mb-3">
        <label class="form-label">Fee ($)</label>
        <input type="number" class="form-control" name="fee" step="0.01" min="0" value="<%= service.fee || 0 %>">
      </div>
      
      <div class="mb-3">
        <label class="form-label">Required Fields</label>
        <input type="text" class="form-control" name="required_fields" value="<%= fieldsString || '' %>" placeholder='full_name, national_id, address'>
        <small class="text-muted">Enter field names separated by commas</small>
      </div>
      
      <button type="submit" class="btn btn-primary">Update Service</button>
      <a href="/admin/services" class="btn btn-secondary">Cancel</a>
    </form>
  </div>
</div>